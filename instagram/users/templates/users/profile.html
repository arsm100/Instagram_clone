{% extends "_base.html" %}
{% block title %}
User Profile!
{% endblock %}

{% block custom_css %}
<link rel="stylesheet" href="./../../../static/css/lightbox.css">
{% endblock %}

{% block content %}

<h1>{{User.query.get(id).username}}'s Profile</h1>

{% if id==current_user.id %}
<h2>Welcome to your profile, {{current_user.full_name}}!</h2>

<a href="{{ url_for('images.upload', id = current_user.id, gallery=True) }}" class="btn btn-primary">Add images to your
    gallery</a>
<a href="{{ url_for('images.upload', id = current_user.id, gallery=False) }}" class="btn btn-primary">Edit your
    profile picture</a>
<a href="{{ url_for('users.edit', id = current_user.id) }}" class="btn btn-primary">Edit your
    details</a>
<a href="{{ url_for('sessions.logout') }}" class="btn btn-primary">Logout</a>
<a href="{{ url_for('users.delete', id = current_user.id) }}" class="alert alert-danger btn btn-primary">DELETE YOUR
    ACCOUNT</a>

{% elif id != current_user.id %}
<h2>Welcome to {{User.query.get(id).full_name}}'s profile!</h2>
{% endif %}





<div class="container">
    <hr>
    <h2 style="clear: both;">{{User.query.get(id).username}}'s Gallery!</h2>
    <div class="image-row">
        <div class="image-set">
            {% for image in User.query.get(id).images %}
            <a style="display: inline-block; margin:5px" class="image-link" href="{{S3_LOCATION}}{{image.image_name}}"
                data-lightbox="image-set" data-title="{{image.image_caption|default('')}}">
                <img class="gallery-image" src="{{S3_LOCATION}}{{image.image_name}}" width=200px height=200px>
            </a>

            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}

{% block custom_js %}
<script src="./../../../static/js/lightbox.js"></script>
{% endblock %}